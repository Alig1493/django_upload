{% extends "upload/base.jinja2" %}

{% block content %}
    <h1 class="display-4">
        Your Files
    </h1>
    {% if messages %}

            {% for message in messages %}
                {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                    <p class="text-success">{{ message }}</p>
                {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
                    <p class="text-warning">{{ message }}</p>
                {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                    <p class="text-danger">{{ message }}</p>
                {% endif %}
            {% endfor %}

    {% endif %}
    <div class="panel">
        <table class="table">
            <thead class="thead-light">
            <tr>
                <th scope="col">Index</th>
                <th scope="col">Created Date</th>
                <th scope="col">Filename</th>
            </tr>
            </thead>
            <tbody>
            {% for file in files %}
                <tr>
                    <th scope="row">{{ file.id }}</th>
                    <th scope="row">{{ file.created_at.strftime('%A, %B %m, %Y at %I:%M:%S %p') }}</th>
                    <td>
                        <a href="{{ file.file_field.url }}">
                            {{ file.file_field }}
                        </a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock content %}